{
  "title": "APG modal dialog example",
  "description": "This example implements a modal dialog.",
  "html_file": "https://w3c.github.io/aria-practices/examples/dialog-modal/dialog.html",
  "assertions": [
    {
      "feature_id": "aria/dialog_role",
      "feature_assertion_id": "convey_role"
    },
    {
      "feature_id": "aria/dialog_role",
      "feature_assertion_id": "convey_name"
    },
    {
      "feature_id": "aria/dialog_role",
      "feature_assertion_id": "convey_boundaries"
    },
    {
      "feature_id": "aria/aria-modal_attribute",
      "feature_assertion_id": "convey_presence",
      "applied_to": "aria/dialog_role"
    },
    {
      "feature_id": "aria/aria-modal_attribute",
      "feature_assertion_id": "limit_reading_to_children",
      "applied_to": "aria/dialog_role"
    },
    {
      "feature_id": "aria/aria-modal_attribute",
      "feature_assertion_id": "remove_outside_content_from_shortcuts",
      "applied_to": "aria/dialog_role"
    }
  ],
  "procedures": [
    {
      "key": "open_dialog",
      "title": "open the dialog",
      "css_target": "*[role=\"dialog\" aria-modal=\"true\"]",
      "steps": [
        {
          "action": "set mode to",
          "value": "auto"
        },
        {
          "action": "issue command",
          "summary": "navigate forward to the button to open the dialog",
          "command": "params.commands.navigate_to_button",
          "ensure_at_location": {
            "virtual": "button",
            "focus": "button"
          }
        },
        {
          "action": "issue command",
          "observe": "dialog will open and focus will be moved to the target",
          "ensure_at_location": {
            "virtual": "within target",
            "focus": "within target"
          }
        }
      ]
    },
    {
      "key": "navigate_backwards_out_of_open_modal",
      "title": "attempt to navigate backwards to content behind the open modal",
      "css_target": "*[role=\"dialog\" *[aria-modal=\"true\"]",
      "steps": [
        {
          "action": "set mode to",
          "value": "auto"
        },
        {
          "action": "issue command",
          "summary": "navigate forward to the button to open the dialog",
          "command": "params.commands.navigate_to_button",
          "ensure_at_location": {
            "virtual": "button",
            "focus": "button"
          }
        },
        {
          "action": "issue command",
          "command": "activate_button",
          "summary": "dialog will open and focus will be moved to the target",
          "ensure_at_location": {
            "virtual": "within target",
            "focus": "within target"
          }
        },
        {
          "action": "issue command",
          "multiple": true,
          "summary": "attempt to navigate backwards past the start of the dialog",
          "ensure_at_location": {
            "virtual": "before target",
            "focus": "before target"
          }
        }
      ]
    },
    {
      "key": "navigate_backwards_out_of_open_modal_VO",
      "title": "attempt to navigate backwards to content behind the open modal",
      "css_target": "*[role=\"dialog\" *[aria-modal=\"true\"]",
      "steps": [
        {
          "action": "set mode to",
          "value": "auto"
        },
        {
          "action": "issue command",
          "summary": "navigate forward to the button to open the dialog",
          "command": "params.commands.navigate_to_button",
          "ensure_at_location": {
            "virtual": "button",
            "focus": "button"
          }
        },
        {
          "action": "issue command",
          "command": "activate_button",
          "summary": "dialog will open and focus will be moved to the target",
          "ensure_at_location": {
            "virtual": "within target",
            "focus": "within target"
          }
        },
        {
          "action": "issue command",
          "command": "exit_object",
          "summary": "navigate to the dialog container",
          "ensure_at_location": {
            "virtual": "target",
            "focus": "target"
          }
        },
        {
          "action": "issue command",
          "multiple": true,
          "summary": "attempt to navigate backwards past the start of the dialog",
          "ensure_at_location": {
            "virtual": "before target",
            "focus": "before target"
          }
        }
      ]
    },
    {
      "key": "navigate_forwards_out_of_open_modal",
      "title": "attempt to navigate forwards to content behind the open modal",
      "css_target": "*[role=\"dialog\" *[aria-modal=\"true\"]",
      "steps": [
        {
          "action": "set mode to",
          "value": "auto"
        },
        {
          "action": "issue command",
          "summary": "navigate forward to the button to open the dialog",
          "command": "params.commands.navigate_to_button",
          "ensure_at_location": {
            "virtual": "button",
            "focus": "button"
          }
        },
        {
          "action": "issue command",
          "command": "activate_button",
          "summary": "dialog will open and focus will be moved to the target",
          "ensure_at_location": {
            "virtual": "within target",
            "focus": "within target"
          }
        },
        {
          "action": "issue command",
          "multiple": true,
          "summary": "attempt to navigate forwards past the end of the dialog",
          "ensure_at_location": {
            "virtual": "after target",
            "focus": "after target"
          }
        }
      ]
    },
    {
      "key": "navigate_to_modal_container_VO",
      "title": "navigate to modal container",
      "css_target": "*[role=\"dialog\" *[aria-modal=\"true\"]",
      "steps": [
        {
          "action": "set mode to",
          "value": "auto"
        },
        {
          "action": "issue command",
          "summary": "navigate forward to the button to open the dialog",
          "command": "params.commands.navigate_to_button",
          "ensure_at_location": {
            "virtual": "button",
            "focus": "button"
          }
        },
        {
          "action": "issue command",
          "command": "activate_button",
          "summary": "dialog will open and focus will be moved to the target",
          "ensure_at_location": {
            "virtual": "within target",
            "focus": "within target"
          }
        },
        {
          "action": "issue command",
          "summary": "navigate to the modal container",
          "ensure_at_location": {
            "virtual": "target",
            "focus": "target"
          }
        }
      ]
    },
    {
      "key": "open_element_list_while_modal_open",
      "title": "Open the element list while the modal is open",
      "css_target": "*[aria-modal=true]",
      "steps": [
        {
          "action": "set mode to",
          "value": "auto"
        },
        {
          "action": "issue command",
          "summary": "navigate forward to the button to open the dialog",
          "command": "params.commands.navigate_to_button",
          "ensure_at_location": {
            "virtual": "button",
            "focus": "button"
          }
        },
        {
          "action": "issue command",
          "command": "activate_button",
          "summary": "dialog will open and focus will be moved to the target",
          "ensure_at_location": {
            "virtual": "within target",
            "focus": "within target"
          }
        },
        {
          "action": "set mode to",
          "value": "browse"
        },
        {
          "action": "issue command",
          "summary": "attempt to navigate to content behind the modal via the element list"
        }
      ]
    },
    {
      "key": "navigate_forward_into_open_dialog",
      "title": "navigate forward into open dialog",
      "css_target": "*[role=\"dialog\"]",
      "steps": [
        {
          "action": "set mode to",
          "value": "auto"
        },
        {
          "action": "issue command",
          "summary": "navigate forward to the button to open the dialog",
          "command": "params.commands.navigate_to_button",
          "ensure_at_location": {
            "virtual": "button",
            "focus": "button"
          }
        },
        {
          "action": "issue command",
          "command": "activate_button",
          "summary": "dialog will open and focus will be moved to the target",
          "ensure_at_location": {
            "virtual": "within target",
            "focus": "within target"
          }
        },
        {
          "action": "set mode to",
          "value": "browse"
        },
        {
          "action": "issue command",
          "command": "previous_item",
          "multiple": true,
          "summary": "navigate backwards out of the open dialog",
          "ensure_at_location": {
            "virtual": "before target",
            "focus": "before target"
          }
        },
        {
          "action": "issue command",
          "multiple": true,
          "summary": "navigate forwards into the open dialog",
          "ensure_at_location": {
            "virtual": "within target",
            "focus": "within target"
          }
        }
      ]
    }
  ],
  "commands": {
    "dragon_win": {},
    "jaws": {
      "chrome": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"add delivery address, dialog, street: edit, type in text\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "pass",
              "notes": "The name and role were conveyed when entering the dialog for the first time."
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "pass",
              "notes": "The name and role were conveyed when entering the dialog for the first time."
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "conveyed implicitly by not being able to access content behind the modal."
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "not able to move outside of the modal",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "pass"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "open_element_list",
          "procedure_key": "open_element_list_while_modal_open",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "outside content was displayed in content lists, such as the of links, etc. Note: not possible to move to an item in the list.",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "previous_unvisited_link",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "no links were found",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "This is sort of fragile. If you use the mouse to click outside of the modal content, the modal stays open but shortcuts can be used to jump to outside content. It appears to work fine if keyboard was used exclusively."
            }
          ]
        }
      ],
      "edge": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"add delivery address, dialog, street: edit, type in text\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "pass",
              "notes": "The name and role were conveyed when entering the dialog for the first time."
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "pass",
              "notes": "The name and role were conveyed when entering the dialog for the first time."
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "Conveyed implicitly by not being able to access content behind the modal."
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "not able to move outside of the modal",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "pass"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "open_element_list",
          "procedure_key": "open_element_list_while_modal_open",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "outside content was displayed in content lists, such as the of links, etc. Note: not possible to move to an item in the list.",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "previous_unvisited_link",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "no links were found",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "This is sort of fragile. If you use the mouse to click outside of the modal content, the modal stays open but shortcuts can be used to jump to outside content. It appears to work fine if keyboard was used exclusively."
            }
          ]
        }
      ],
      "ie": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"add delivery address, dialog, street: edit, type in text\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "pass",
              "notes": "The name and role were conveyed when entering the dialog for the first time. The modal state was not"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "pass",
              "notes": "The name and role were conveyed when entering the dialog for the first time. The modal state was not"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "The modal state was not explicitly conveyed, but content outside the modal was obscured, which implies the dialog state."
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "not able to move outside of the modal",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "pass"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "open_element_list",
          "procedure_key": "open_element_list_while_modal_open",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "outside content was displayed in content lists, such as the of links, etc. Note: it IS possible to navigate to headings in this list and break free from the modal.",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "fail"
            }
          ]
        },
        {
          "command": "previous_unvisited_link",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "no links were found",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        }
      ],
      "firefox": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"add delivery address, modal dialog...\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "pass",
              "notes": "The name, role, and modal state were conveyed when entering the dialog for the first time."
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "pass",
              "notes": "The name, role, and modal state were conveyed when entering the dialog for the first time."
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "The modal state was explicitly conveyed."
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "not able to move outside of the modal",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "pass"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "The title of the window was announced"
            }
          ]
        },
        {
          "command": "open_element_list",
          "procedure_key": "open_element_list_while_modal_open",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "outside content was displayed in content lists, such as the of links, etc.",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "fail"
            }
          ]
        },
        {
          "command": "previous_unvisited_link",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "no links were found",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "This is sort of fragile. If you use the mouse to click outside of the modal content, the modal stays open but shortcuts can be used to jump to outside content. It appears to work fine if keyboard was used exclusively."
            }
          ]
        }
      ]
    },
    "narrator": {
      "edge": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"Add delivery address, dialog, street, edit, scan off, heading level 2, add delivery address, street\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "pass"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "pass"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "fail",
              "notes": "Modal state was not conveyed and non-modal content was not obscured. See other expectations for details."
            }
          ]
        },
        {
          "command": "next_item",
          "procedure_key": "navigate_forward_into_open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"heading level 2, add delivery address\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "fail"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "fail"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "fail",
              "notes": "fail because the dialog role was not conveyed"
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"Button, add delivery address\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "fail"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "fail"
            }
          ]
        },
        {
          "command": "previous_heading",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "headings were found outside of the modal",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "fail"
            }
          ]
        }
      ]
    },
    "nvda": {
      "chrome": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"Add delivery address, dialog, street, edit, blank\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "pass"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "pass"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "Modal state was not conveyed but non-modal content was obscured which implies the modal state. See other expectations for details."
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "not able to move outside of the modal",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "pass"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "note": "This is fairly fragile. If you use the mouse to click on content under the modal, the content behind the modal can be found. This does not appear to happen when using just keyboard interactions."
            }
          ]
        },
        {
          "command": "previous_form_field",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "no outside form fields were found",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "previous_link",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "no outside links were found",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "open_element_list",
          "procedure_key": "open_element_list_while_modal_open",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "only content within the modal was included in the lists",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        }
      ],
      "edge": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"Add delivery address, dialog, street, edit, blank\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "pass"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "pass"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "Modal state was not conveyed but non-modal content was obscured which implies the modal state. See other expectations for details."
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "not able to move outside of the modal",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "pass"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "note": "This is fairly fragile. If you use the mouse to click on content under the modal, the content behind the modal can be found. This does not appear to happen when using just keyboard interactions."
            }
          ]
        },
        {
          "command": "previous_form_field",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "no outside form fields were found",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "previous_link",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "no outside links were found",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "open_element_list",
          "procedure_key": "open_element_list_while_modal_open",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "only content within the modal was included in the lists",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        }
      ],
      "firefox": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"Add delivery address, dialog, street, edit, has auto complete, blank.\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "pass"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "pass"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "Modal state was not conveyed but non-modal content was obscured which implies the modal state. See other expectations for details."
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "not able to move outside of the modal",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "pass"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": "If you click content outside of the modal with a mouse, it is then possible to navigate that content behind the modal. This does not appear to be possible when using keyboard-alone."
            }
          ]
        },
        {
          "command": "previous_form_field",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "no outside form fields were found",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "previous_link",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "no outside links were found",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "open_element_list",
          "procedure_key": "open_element_list_while_modal_open",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "only content within the modal was included in the lists",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        }
      ]
    },
    "talkback": {
      "and_chr": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_item"
            }
          },
          "output": "\"edit box, street, in pager\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "fail",
              "notes": "not conveyed when first entering the dialog"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "fail",
              "notes": "not conveyed when first entering the dialog"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "fail",
              "notes": "Modal state was not conveyed but non-modal content was not obscured. See other expectations for details."
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_item"
            }
          },
          "output": "\"add delivery address, button\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "fail"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "fail"
            }
          ]
        },
        {
          "command": "next_item",
          "procedure_key": "navigate_forward_into_open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_item"
            }
          },
          "output": "\"page, in pager\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "fail"
            }
          ]
        },
        {
          "command": "previous_link",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_item"
            }
          },
          "output": "content outside of the modal was announced",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "fail"
            }
          ]
        }
      ]
    },
    "va_and": {},
    "vo_ios": {
      "ios_saf": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_item"
            }
          },
          "output": "\"(earcon indicating button was activated), add delivery address\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "fail"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "fail"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "fail",
              "notes": "Modal state was not conveyed and content outside the modal could be found."
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_item"
            }
          },
          "output": "\"street, text field\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "pass",
              "notes": "Not possible to navigate backwards out of the modal"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_forwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_item"
            }
          },
          "output": "\"Accessibility features, heading level 2\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "fail"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "fail"
            }
          ]
        },
        {
          "command": "previous_link",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_item"
            }
          },
          "output": "\"date picker dialog example, link\"",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "fail"
            }
          ]
        }
      ]
    },
    "vo_macos": {
      "safari": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"street, edit text\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "fail"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "fail"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "partial",
              "notes": "Modal state was not conveyed but non-modal content was partially obscured which partially implies the modal state. See other expectations for details."
            }
          ]
        },
        {
          "command": "exit_object",
          "procedure_key": "navigate_to_modal_container_VO",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"add delivery address, web dialog\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "pass"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "pass"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "pass"
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal_VO",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"end of, related links\"",
          "notes": "Could navigate to the main element and the end of the related links, but nothing past that.",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "partial",
              "notes": "Only partial content was found, even after navigating out of the dialog via VO+shift+up arrow"
            }
          ]
        },
        {
          "command": "previous_heading",
          "procedure_key": "navigate_backwards_out_of_open_modal_VO",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"Heading level 2, example\"",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "fail"
            }
          ]
        },
        {
          "command": "open_element_list",
          "procedure_key": "open_element_list_while_modal_open",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "headings, links, and other content was listed and could be navigated to",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "fail"
            }
          ]
        }
      ]
    },
    "orca": {
      "firefox": [
        {
          "command": "activate_button",
          "procedure_key": "open_dialog",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"Add delivery address dialog, street, entry, focus mode\"",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "pass"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "pass"
            }
          ]
        },
        {
          "command": "previous_item",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"add delivery address dialog, street, entry\" ",
          "results": [
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_role",
              "result": "pass"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_name",
              "result": "pass"
            },
            {
              "feature_id": "aria/dialog_role",
              "feature_assertion_id": "convey_boundaries",
              "result": "pass",
              "notes": ""
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": ""
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "pass",
              "notes": ""
            }
          ]
        },
        {
          "command": "previous_form_field",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "no outside form fields were found",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "pass"
            }
          ]
        },
        {
          "command": "previous_link",
          "procedure_key": "navigate_backwards_out_of_open_modal",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "\"date picker dialog example, link\"",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "fail"
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "convey_presence",
              "applied_to": "aria/dialog_role",
              "result": "fail",
              "notes": ""
            },
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "limit_reading_to_children",
              "applied_to": "aria/dialog_role",
              "result": "fail",
              "notes": ""
            }
          ]
        },
        {
          "command": "list_links",
          "procedure_key": "open_element_list_while_modal_open",
          "params": {
            "commands": {
              "navigate_to_button": "next_button"
            }
          },
          "output": "outside links are listed. When jumping to those links, focus is redirected back to the open dialog.",
          "results": [
            {
              "feature_id": "aria/aria-modal_attribute",
              "feature_assertion_id": "remove_outside_content_from_shortcuts",
              "applied_to": "aria/dialog_role",
              "result": "partial",
              "notes": "partial because outside links are listed but its not possible to jump to them."
            }
          ]
        }
      ]
    },
    "vc_ios": {},
    "vc_macos": {},
    "wsr": {}
  },
  "history": [
    {
      "date": "2019-08-13",
      "message": "Test created"
    },
    {
      "date": "2021-02-03",
      "message": "re-tested all core versions, no significant changes were found"
    },
    {
      "date": "2021-08-07",
      "message": "Added Narrator results for NVDA and JAWS, updated NVDA+Chrome results."
    },
    {
      "date": "2021-12-05",
      "message": "Added missing aria-modal results for JAWS+Chrome, JAWS+Edge"
    }
  ],
  "versions": {
    "jaws": {
      "browsers": {
        "chrome": {
          "at_version": "2022.2110.36",
          "browser_version": "96",
          "os_version": "21H1",
          "date": "2021-12-05"
        },
        "edge": {
          "at_version": "2022.2110.36",
          "browser_version": "96",
          "os_version": "21H1",
          "date": "2021-12-05"
        },
        "ie": {
          "at_version": "2021.2012.57",
          "browser_version": "11",
          "os_version": "20H2",
          "date": "2021-02-03"
        },
        "firefox": {
          "at_version": "2021.2012.57",
          "browser_version": "85",
          "os_version": "20H2",
          "date": "2021-02-03"
        }
      }
    },
    "narrator": {
      "browsers": {
        "edge": {
          "at_version": "20H2",
          "browser_version": "88",
          "os_version": "20H2",
          "date": "2021-02-03"
        }
      }
    },
    "nvda": {
      "browsers": {
        "chrome": {
          "at_version": "2021.1",
          "os_version": "21H1",
          "browser_version": "92",
          "date": "2021-08-07"
        },
        "edge": {
          "at_version": "2021.1",
          "os_version": "21H1",
          "browser_version": "92",
          "date": "2021-08-07"
        },
        "firefox": {
          "at_version": "2020.3",
          "browser_version": "85",
          "os_version": "2021-02-03",
          "date": "2021-02-03"
        }
      }
    },
    "orca": {
      "browsers": {
        "firefox": {
          "at_version": "3.38.0",
          "browser_version": "85",
          "os_version": "Ubuntu 20.10",
          "date": "2021-02-03"
        }
      }
    },
    "talkback": {
      "browsers": {
        "and_chr": {
          "at_version": "8.2",
          "browser_version": "88",
          "os_version": "7",
          "date": "2021-02-03"
        }
      }
    },
    "vo_ios": {
      "browsers": {
        "ios_saf": {
          "at_version": "14.3",
          "browser_version": "14.3",
          "os_version": "14.3",
          "date": "2021-02-03"
        }
      }
    },
    "vo_macos": {
      "browsers": {
        "safari": {
          "at_version": "11.2",
          "browser_version": "14.0.3",
          "os_version": "11.2",
          "date": "2021-02-03"
        }
      }
    }
  }
}
